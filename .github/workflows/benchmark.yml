
name: RunBenchmark
on:
  push:

jobs:
  name: Benchmark
  runs-on: ubuntu-latest
  steps:
    - uses: actions/checkout@v2
    - uses: julia-actions/setup-julia@v1
      with:
        version: '1'
    - run: |
      julia -e 'println("Hello, World!")'
  name: Instantiate Environment
    run: |
        pwd
        julia --project=benchmark -e '
          using Pkg
          Pkg.add(url="https://github.com/michael-petersen/OrbitalElements.jl.git")
#              Pkg.develop(PackageSpec(path=pwd()))
          Pkg.instantiate()'
  name: Execute Benchmark
    run: julia tests/benchmarks.jl
